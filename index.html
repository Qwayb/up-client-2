<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="js/vue.js"></script>
    <script defer src="js/main.js"></script>
    <title>Заметки</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<div id="app">
    <div class="column" v-for="column in columns" :key="column.id">
        <h3>{{ column.title }}</h3>

        <transition-group name="fade" tag="div">
            <div class="card" v-for="card in column.cards" :key="card.id"
                 @mouseenter="card.isHovered = true" @mouseleave="card.isHovered = false">

                <!-- Для фантомной карточки -->
                <div v-if="card.isPhantom">
                    <input class="phantom-input-title" v-model="card.title" placeholder="Заголовок..." @input="checkPhantomCard">

                    <!-- Строки для ввода пунктов -->
                    <div v-for="(item, index) in card.items" :key="index">
                        <input v-model="item.text" placeholder="Пункт..."
                               @keydown.enter="addItemToCard(card)"
                               class="phantom-input">
                    </div>

                    <!-- Фантомная строка -->
                    <input v-if="card.items.length < 5 && card.isHovered"
                           v-model="card.newItemText" placeholder="Пункт..."
                           @keydown.enter="addItemToCard(card)"
                           class="phantom-input">
                </div>

                <!-- Для обычных карточек -->
                <div v-else>
                    <h4>{{ card.title }}</h4>

                    <ul>
                        <li v-for="item in card.items" :key="item.text">
                            <input type="checkbox" v-model="item.done">
                            <span>{{ item.text }}</span>
                        </li>
                    </ul>

                    <!-- Поле для добавления новых пунктов -->
                    <input v-if="card.items.length < 5"
                           v-model="card.newItemText" placeholder="Добавить пункт..."
                           @keydown.enter="addItemToCard(card)"
                           class="phantom-input">
                </div>
            </div>
        </transition-group>
    </div>
</div>

</body>
</html>
